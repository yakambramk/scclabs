<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Spring MVC Hibernate JSP MySQL CRUD Tutorial</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: #333;
            overflow: auto;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            padding: 0 20px;
        }

        h1,
        h2 {
            margin: 20px 0;
            font-weight: bold;
        }

        h1 {
            color: red;
            font-size: 2rem;
        }

        h2 {
            font-size: 1.5rem;
        }

        p,
        li {
            letter-spacing: 0.5px;
            margin-bottom: 20px;
            font-size: 1rem;
        }

        a {
            text-decoration: none;
            cursor: pointer;
            color: #3D85C6;
            line-height: 2.5;
            font-weight: bold;
        }

        a:hover {
            color: red;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px 0;
        }

        pre {
            background-color: #f6f8fa;
            border-radius: 3px;
            box-sizing: border-box;
            font-family: Consolas, monospace;
            font-size: 13.6px;
            line-height: 1.45;
            margin-bottom: 20px;
            padding: 16px;
            overflow: auto;
            word-wrap: break-word;
        }

        @media (max-width: 1200px) {
            .container {
                padding: 0 15px;
            }

            h1 {
                font-size: 1.8rem;
            }

            h2 {
                font-size: 1.4rem;
            }
        }

        @media (max-width: 992px) {
            .container {
                padding: 0 10px;
            }

            h1 {
                font-size: 1.6rem;
            }

            h2 {
                font-size: 1.3rem;
            }

            p,
            li {
                font-size: 0.95rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }

            h1 {
                font-size: 1.4rem;
            }

            h2 {
                font-size: 1.2rem;
            }

            p,
            li {
                font-size: 0.9rem;
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 0 5px;
            }

            h1 {
                font-size: 1.2rem;
            }

            h2 {
                font-size: 1.1rem;
            }

            p,
            li {
                font-size: 0.85rem;
            }

            a {
                font-size: 0.9rem;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Spring MVC + Hibernate + JSP + MySQL CRUD Tutorial</h1>
        <p>This blog post is designed to guide you through the process of creating a CRUD (Create, Read, Update, Delete)
            application using Spring MVC, Hibernate, JSP, and MySQL database.</p>

        <p> By integrating Spring MVC with Hibernate, you can take advantage of the declarative transaction management
            and other powerful features provided by these frameworks. JSP (JavaServer Pages) will be used for creating
            dynamic and responsive views, and MySQL will handle the database operations.</p>
        <h2>Prerequisites </h2>
        <ul>
            <li> Basic understanding of Java </li>
            <li> Familiarity with Spring MVC, Hibernate, and JSP </li>
            <li> MySQL installed on your system </li>
            <li> An Integrated Development Environment (IDE) such as Eclipse or IntelliJ IDEA</li>
        </ul>
        <h2>1. Create a Maven Web Application</h2>
        <p>Let's create a Maven-based web application either using a command line or from Eclipse IDE.</p>
        <ul>
            <li> Use the <a href="./simple-maven-web-application.html">Guide to Create a Maven Web Application</a> link
                to create a Maven project using a command line.
            </li>
            <li> Use <a href="./create-a-maven-web-project-with-eclipse.html">Create Maven Web Application using Eclipse
                    IDE</a> link to create a maven web application using IDE
                Eclipse.</li>
        </ul>
        <p>Once you created a Maven web application, next, add the Maven dependencies.</p>
        <h2>2. Add Dependencies - pom.xml File</h2>
        <p>Open your Maven project and add the following Maven dependencies:</p>
        <pre>
            &lt;project
                xmlns="http://maven.apache.org/POM/4.0.0"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
                &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
                &lt;groupId&gt;net.javaguides.springmvc&lt;/groupId&gt;
                &lt;artifactId&gt;springmvc5-hibernate5-jsp-mysql-example&lt;/artifactId&gt;
                &lt;packaging&gt;war&lt;/packaging&gt;
                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
                &lt;name&gt;springmvc5-hibernate5-jsp-mysql-example Maven Webapp&lt;/name&gt;
                &lt;url&gt;http://maven.apache.org&lt;/url&gt;
                &lt;properties&gt;
                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;
                    &lt;spring.version&gt;5.1.0.RELEASE&lt;/spring.version&gt;
                    &lt;hibernate.version&gt;5.3.5.Final&lt;/hibernate.version&gt;
                    &lt;hibernate.validator&gt;5.4.1.Final&lt;/hibernate.validator&gt;
                    &lt;c3p0.version&gt;0.9.5.2&lt;/c3p0.version&gt;
                    &lt;jstl.version&gt;1.2.1&lt;/jstl.version&gt;
                    &lt;tld.version&gt;1.1.2&lt;/tld.version&gt;
                    &lt;servlets.version&gt;3.1.0&lt;/servlets.version&gt;
                    &lt;jsp.version&gt;2.3.1&lt;/jsp.version&gt;
                    &lt;hsqldb.version&gt;1.8.0.10&lt;/hsqldb.version&gt;
                &lt;/properties&gt;
                &lt;dependencies&gt;
                    &lt;!-- Spring MVC Dependency --&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
                        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
                        &lt;version&gt;${spring.version}&lt;/version&gt;
                    &lt;/dependency&gt;
                    &lt;!-- Spring ORM --&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
                        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;
                        &lt;version&gt;${spring.version}&lt;/version&gt;
                    &lt;/dependency&gt;
                    &lt;!-- Hibernate Core --&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
                        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;
                        &lt;version&gt;5.2.17.Final&lt;/version&gt;
                    &lt;/dependency&gt;
                    &lt;!-- Hibernate Validator --&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
                        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
                        &lt;version&gt;${hibernate.validator}&lt;/version&gt;
                    &lt;/dependency&gt;
                    &lt;!-- JSTL Dependency --&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;
                        &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;
                        &lt;version&gt;${jstl.version}&lt;/version&gt;
                    &lt;/dependency&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;taglibs&lt;/groupId&gt;
                        &lt;artifactId&gt;standard&lt;/artifactId&gt;
                        &lt;version&gt;${tld.version}&lt;/version&gt;
                    &lt;/dependency&gt;
                    &lt;!-- Servlet Dependency --&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
                        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
                        &lt;version&gt;${servlets.version}&lt;/version&gt;
                        &lt;scope&gt;provided&lt;/scope&gt;
                    &lt;/dependency&gt;
                    &lt;!-- JSP Dependency --&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;
                        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;
                        &lt;version&gt;${jsp.version}&lt;/version&gt;
                        &lt;scope&gt;provided&lt;/scope&gt;
                    &lt;/dependency&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;mysql&lt;/groupId&gt;
                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
                        &lt;version&gt;5.1.47&lt;/version&gt;
                    &lt;/dependency&gt;
                &lt;/dependencies&gt;
                &lt;build&gt;
                    &lt;plugins&gt;
                        &lt;plugin&gt;
                            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                            &lt;version&gt;3.5.1&lt;/version&gt;
                            &lt;configuration&gt;
                                &lt;source&gt;1.8&lt;/source&gt;
                                &lt;target&gt;1.8&lt;/target&gt;
                            &lt;/configuration&gt;
                        &lt;/plugin&gt;
                    &lt;/plugins&gt;
                &lt;/build&gt;
            &lt;/project&gt;
            </pre>
        <p>The spring-orm module provides the Spring integration with Hibernate:</p>
        <pre>
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;
        &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    </pre>
        <h2>3. Create a Project Structure</h2>
        <p>Refer below screenshot to create a project structure:</p>
        <img src="/assets/spring-mvc-image/project-structure (4).PNG" alt="" class="image-fluid">
        <h2>Class Diagram</h2>
        <img src="/assets/spring-mvc-image/springmvc-hibernate5-class-diagram.png" alt="" class="image-fluid">
        <h2>4. Configure DispatcherServlet using Java-based Spring configuration</h2>
        <p>In Spring MVC, The <b>DispatcherServlet</b> needs to be declared and mapped for processing all requests
            either using Java or <b>web.xml</b> configuration.</p>

        <p> In a Servlet 3.0+ environment, you can use <b>AbstractAnnotationConfigDispatcherServletInitializer</b> class
            to register and initialize the <b>DispatcherServlet</b> programmatically as follows.</p>
        <pre>
                package net.javaguides.springmvc.config;

import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;


public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {

    @Override
    protected Class <?> [] getRootConfigClasses() {
        return new Class[] {
            AppContext.class
        };
        //return null;
    }

    @Override
    protected Class <?> [] getServletConfigClasses() {
        return new Class[] {
            WebMvcConfig.class
        };
    }

    @Override
    protected String[] getServletMappings() {
        return new String[] {
            "/"
        };
    }
}
            </pre>
        <h2>5. Spring and Hibernate Integration using Java-based Spring configuration</h2>
        <p>Hibernate configuration used in the example is based on hibernate Java-based configuration.</p>
        <pre>
                package net.javaguides.springmvc.config;

import java.util.Properties;


import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.PropertySource;
import org.springframework.core.env.Environment;
import org.springframework.jdbc.datasource.DriverManagerDataSource;
import org.springframework.orm.hibernate5.HibernateTransactionManager;
import org.springframework.orm.hibernate5.LocalSessionFactoryBean;
import org.springframework.transaction.annotation.EnableTransactionManagement;

@Configuration
@PropertySource("classpath:database.properties")
@EnableTransactionManagement
public class AppContext {

    @Autowired
    private Environment environment;

    @Bean
    public LocalSessionFactoryBean sessionFactory() {
        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();
        sessionFactory.setDataSource(dataSource());
        sessionFactory.setPackagesToScan(new String[] {
            "net.javaguides.springmvc.entity"
        });
        sessionFactory.setHibernateProperties(hibernateProperties());
        return sessionFactory;
    }

    @Bean
    public DataSource dataSource() {
        DriverManagerDataSource dataSource = new DriverManagerDataSource();
        dataSource.setDriverClassName(environment.getRequiredProperty("jdbc.driverClassName"));
        dataSource.setUrl(environment.getRequiredProperty("jdbc.url"));
        dataSource.setUsername(environment.getRequiredProperty("jdbc.username"));
        dataSource.setPassword(environment.getRequiredProperty("jdbc.password"));
        return dataSource;
    }

    private Properties hibernateProperties() {
        Properties properties = new Properties();
        properties.put("hibernate.dialect", environment.getRequiredProperty("hibernate.dialect"));
        properties.put("hibernate.show_sql", environment.getRequiredProperty("hibernate.show_sql"));
        properties.put("hibernate.format_sql", environment.getRequiredProperty("hibernate.format_sql"));
        properties.put("hibernate.hbm2ddl.auto", environment.getRequiredProperty("hibernate.hbm2ddl.auto"));
        return properties;
    }

    @Bean
    public HibernateTransactionManager getTransactionManager() {
        HibernateTransactionManager transactionManager = new HibernateTransactionManager();
        transactionManager.setSessionFactory(sessionFactory().getObject());
        return transactionManager;
    }
}
            </pre>
        <p> <b>@Configuration:</b> Marks the class as a source of bean definitions.
            <b>@PropertySource("classpath:database.properties"):</b> Specifies the location of the database properties
            file in the classpath, which will be used to configure the data source and Hibernate.
            <b>@EnableTransactionManagement:</b> Enables Spring's annotation-driven transaction management.
        </p>

        <p> <b>LocalSessionFactoryBean</b> creates a Hibernate SessionFactory. This is the usual way to set up a shared
            Hibernate SessionFactory in a Spring application context.</p>

        <p> <b> EnableTransactionManagement</b> enables Springâ€™s annotation-driven transaction management capability.
        </p>

        <p> <b>HibernateTransactionManager</b> binds a Hibernate Session from the specified factory to the thread,
            potentially allowing for one thread-bound Session per factory. This transaction manager is appropriate for
            applications that use a single Hibernate SessionFactory for transactional data access, but it also supports
            direct DataSource access within a transaction i.e. plain JDBC.</p>
        <h2>Create database.properties File</h2>
        <p>Create a <b>database.properties</b> file under the <b>/resources</b> folder and put the following database
            configuration in it.</p>
        <pre>jdbc.driverClassName = com.mysql.jdbc.Driver
                jdbc.url = jdbc:mysql://localhost:3306/demo?useSSL=false
                jdbc.username = root
                jdbc.password = root
                hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect
                hibernate.show_sql = true
                hibernate.format_sql = true
                hibernate.hbm2ddl.auto = update</pre>
        <h2>6. Spring MVC Bean Configuration using Java-based Spring configuration</h2>
        <p>Create an MVCConfig class and annotated it with <b>@Configuration, @EnableWebMvc,</b> and
            <b>@ComponentScan</b> annotations.
        </p>
        <pre>package net.javaguides.springmvc.config;

                    import org.springframework.context.annotation.Bean;
                    
                    import org.springframework.context.annotation.ComponentScan;
                    import org.springframework.context.annotation.Configuration;
                    import org.springframework.web.servlet.config.annotation.EnableWebMvc;
                    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
                    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
                    import org.springframework.web.servlet.view.InternalResourceViewResolver;
                    import org.springframework.web.servlet.view.JstlView;
                    
                
                    
                    @Configuration
                    @EnableWebMvc
                    @ComponentScan(basePackages = {
                        "net.javaguides.springmvc"
                    })
                    public class WebMvcConfig implements WebMvcConfigurer {
                    
                        @Bean
                        public InternalResourceViewResolver resolver() {
                            InternalResourceViewResolver resolver = new InternalResourceViewResolver();
                            resolver.setViewClass(JstlView.class);
                            resolver.setPrefix("/WEB-INF/views/");
                            resolver.setSuffix(".jsp");
                            return resolver;
                        }
                    
                        @Override
                        public void addResourceHandlers(ResourceHandlerRegistry registry) {
                            registry
                                .addResourceHandler("/resources/**")
                                .addResourceLocations("/resources/");
                        }
                    }</pre>
        <p><b>@Configuration:</b> Declares that the class contains Spring Beans configuration. </p>

        <p><b> @EnableWebMvc:</b> Enables Spring's web MVC framework, allowing the use of features like @Controller and
            other web-related beans. </p>

        <p> <b>@ComponentScan(basePackages = { "net.javaguides.springmvc" }): </b>Tells Spring to look for components
            (like controllers, services, repositories, etc.) inside the specified package, enabling autodetection and
            automatic bean registration. </p>

        <p> <b> InternalResourceViewResolver: </b>This class is used to resolve the JSP views.</p>
        <h2>7. JPA Entity - Customer.java</h2>
        <p>Create the <b>Customer</b> class, annotate it with <b>@Entity</b> to map the database table, and use it for
            data binding with the <b>@ModelAttribute</b> annotation in the controller's handler method.</p>
        <pre>package net.javaguides.springmvc.entity;

                import javax.persistence.Column;
                import javax.persistence.Entity;
                import javax.persistence.GeneratedValue;
                import javax.persistence.GenerationType;
                import javax.persistence.Id;
                import javax.persistence.Table;
                
                @Entity
                @Table(name = "customer")
                public class Customer {
                
                    @Id
                    @GeneratedValue(strategy = GenerationType.IDENTITY)
                    @Column(name = "id")
                    private int id;
                
                    @Column(name = "first_name")
                    private String firstName;
                
                    @Column(name = "last_name")
                    private String lastName;
                
                    @Column(name = "email")
                    private String email;
                
                    public Customer() {
                
                    }
                
                    public int getId() {
                        return id;
                    }
                
                    public void setId(int id) {
                        this.id = id;
                    }
                
                    public String getFirstName() {
                        return firstName;
                    }
                
                    public void setFirstName(String firstName) {
                        this.firstName = firstName;
                    }
                
                    public String getLastName() {
                        return lastName;
                    }
                
                    public void setLastName(String lastName) {
                        this.lastName = lastName;
                    }
                
                    public String getEmail() {
                        return email;
                    }
                
                    public void setEmail(String email) {
                        this.email = email;
                    }
                
                    @Override
                    public String toString() {
                        return "Customer [id=" + id + ", firstName=" + firstName + ", lastName=" + lastName + ", email=" + email + "]";
                    }
                }</pre>
        <h2>8. Controller Layer</h2>
        <p>Let's create a Spring MVC controller called <b>CustomerController</b> for handling operations related to
            customers within an application:</p>
        <pre>package net.javaguides.springmvc.controller;

                    import java.util.List;
                    
                    import org.springframework.beans.factory.annotation.Autowired;
                    import org.springframework.stereotype.Controller;
                    import org.springframework.ui.Model;
                    import org.springframework.web.bind.annotation.GetMapping;
                    import org.springframework.web.bind.annotation.ModelAttribute;
                    import org.springframework.web.bind.annotation.PostMapping;
                    import org.springframework.web.bind.annotation.RequestMapping;
                    import org.springframework.web.bind.annotation.RequestParam;
                    
                    import net.javaguides.springmvc.entity.Customer;
                    import net.javaguides.springmvc.service.CustomerService;
                    
                    @Controller
                    @RequestMapping("/customer")
                    public class CustomerController {
                    
                        @Autowired
                        private CustomerService customerService;
                    
                        @GetMapping("/list")
                        public String listCustomers(Model theModel) {
                            List < Customer > theCustomers = customerService.getCustomers();
                            theModel.addAttribute("customers", theCustomers);
                            return "list-customers";
                        }
                    
                        @GetMapping("/showForm")
                        public String showFormForAdd(Model theModel) {
                            Customer theCustomer = new Customer();
                            theModel.addAttribute("customer", theCustomer);
                            return "customer-form";
                        }
                    
                        @PostMapping("/saveCustomer")
                        public String saveCustomer(@ModelAttribute("customer") Customer theCustomer) {
                            customerService.saveCustomer(theCustomer);
                            return "redirect:/customer/list";
                        }
                    
                        @GetMapping("/updateForm")
                        public String showFormForUpdate(@RequestParam("customerId") int theId,
                            Model theModel) {
                            Customer theCustomer = customerService.getCustomer(theId);
                            theModel.addAttribute("customer", theCustomer);
                            return "customer-form";
                        }
                    
                        @GetMapping("/delete")
                        public String deleteCustomer(@RequestParam("customerId") int theId) {
                            customerService.deleteCustomer(theId);
                            return "redirect:/customer/list";
                        }
                    }
                    </pre>
        <p><b> @Controller</b> marks the class as a Spring MVC controller. </p>

        <p> <b>@RequestMapping("/customer") </b>maps all methods in this class to URLs that start with "/customer".</p>

        <p> <b>@Autowired </b>injects an implementation of <b>CustomerService</b>, which is used to interact with the
            underlying data related to customers.</p>
        <h2>9. Service Layer</h2>
        <p>Let's create the CustomerService interface and its implementation and add the following content to it:</p>
        <h2>CustomerService.java</h2>
        <pre>package net.javaguides.springmvc.service;

                import java.util.List;
                
                import net.javaguides.springmvc.entity.Customer;
                
                public interface CustomerService {
                
                    public List < Customer > getCustomers();
                
                    public void saveCustomer(Customer theCustomer);
                
                    public Customer getCustomer(int theId);
                
                    public void deleteCustomer(int theId);
                
                }</pre>
        <h2>CustomerServiceImpl.java</h2>
        <p>We are using @Transactional annotation which is applied to the service layer for transaction support. <b>
                @Service</b> annotation is used to annotate service layer implementation classes as in the below file.
        </p>
        <pre>package net.javaguides.springmvc.service;

            import java.util.List;
            
            import org.springframework.beans.factory.annotation.Autowired;
            import org.springframework.stereotype.Service;
            import org.springframework.transaction.annotation.Transactional;
            
            import net.javaguides.springmvc.dao.CustomerDAO;
            import net.javaguides.springmvc.entity.Customer;
            
            @Service
            public class CustomerServiceImpl implements CustomerService {
            
                @Autowired
                private CustomerDAO customerDAO;
            
                @Override
                @Transactional
                public List < Customer > getCustomers() {
                    return customerDAO.getCustomers();
                }
            
                @Override
                @Transactional
                public void saveCustomer(Customer theCustomer) {
                    customerDAO.saveCustomer(theCustomer);
                }
            
                @Override
                @Transactional
                public Customer getCustomer(int theId) {
                    return customerDAO.getCustomer(theId);
                }
            
                @Override
                @Transactional
                public void deleteCustomer(int theId) {
                    customerDAO.deleteCustomer(theId);
                }
            }</pre>
        <h2>10. DAO Layer</h2>
        <p>Let's create the Dao layer with the CustomerDAO interface and its implementation CustomerDAOImpl class. In
            Spring, we annotate Dao implementation classes with <a href="./spring-repository-annotation.html">@Repository annotation</a>.</p>
        <h2>CustomerDAO.java</h2>
        <pre>package net.javaguides.springmvc.dao;

                import java.util.List;
                
                import net.javaguides.springmvc.entity.Customer;
                
                public interface CustomerDAO {
                
                    public List < Customer > getCustomers();
                
                    public void saveCustomer(Customer theCustomer);
                
                    public Customer getCustomer(int theId);
                
                    public void deleteCustomer(int theId);
                }</pre>
        <h2>CustomerDAOImpl.java</h2>
        <pre>package net.javaguides.springmvc.dao;

                    import java.util.List;
                    
                    import javax.persistence.Query;
                    import javax.persistence.criteria.CriteriaBuilder;
                    import javax.persistence.criteria.CriteriaQuery;
                    import javax.persistence.criteria.Root;
                    
                    import org.hibernate.Session;
                    import org.hibernate.SessionFactory;
                    import org.springframework.beans.factory.annotation.Autowired;
                    import org.springframework.stereotype.Repository;
                    
                    import net.javaguides.springmvc.entity.Customer;
                    
                    @Repository
                    public class CustomerDAOImpl implements CustomerDAO {
                    
                        @Autowired
                        private SessionFactory sessionFactory;
                    
                        @Override
                        public List < Customer > getCustomers() {
                            Session session = sessionFactory.getCurrentSession();
                            CriteriaBuilder cb = session.getCriteriaBuilder();
                            CriteriaQuery < Customer > cq = cb.createQuery(Customer.class);
                            Root < Customer > root = cq.from(Customer.class);
                            cq.select(root);
                            Query query = session.createQuery(cq);
                            return query.getResultList();
                        }
                    
                        @Override
                        public void deleteCustomer(int id) {
                            Session session = sessionFactory.getCurrentSession();
                            Customer book = session.byId(Customer.class).load(id);
                            session.delete(book);
                        }
                    
                        @Override
                        public void saveCustomer(Customer theCustomer) {
                            Session currentSession = sessionFactory.getCurrentSession();
                            currentSession.saveOrUpdate(theCustomer);
                        }
                    
                        @Override
                        public Customer getCustomer(int theId) {
                            Session currentSession = sessionFactory.getCurrentSession();
                            Customer theCustomer = currentSession.get(Customer.class, theId);
                            return theCustomer;
                        }
                    }
                    </pre>
        <h2>11. View Layer</h2>
        <p><b>customer-form.jsp</b></p>
        <pre>
                        &lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
                         pageEncoding="ISO-8859-1"%&gt;
                        &lt;%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%&gt;
                        &lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
                        &lt;!DOCTYPE html&gt;
                        &lt;html&gt;
                        &lt;head&gt;
                        &lt;meta charset="ISO-8859-1"&gt;
                        &lt;title&gt;Spring MVC 5 - form handling | Java Guides&lt;/title&gt;
                        &lt;link href="&lt;c:url value="/resources/css/bootstrap.min.css" /&gt;"
                         rel="stylesheet"&gt;
                        &lt;script src="&lt;c:url value="/resources/js/jquery-1.11.1.min.js" /&gt;"&gt;&lt;/script&gt;
                        &lt;script src="&lt;c:url value="/resources/js/bootstrap.min.js" /&gt;"&gt;&lt;/script&gt;
                        
                        &lt;/head&gt;
                        &lt;body&gt;
                         &lt;div class="container"&gt;
                          &lt;div class="col-md-offset-2 col-md-7"&gt;
                           &lt;h2 class="text-center"&gt;Spring MVC 5 + Hibernate 5 + JSP + MySQL
                            Example&lt;/h2&gt;
                           &lt;div class="panel panel-info"&gt;
                            &lt;div class="panel-heading"&gt;
                             &lt;div class="panel-title"&gt;Add Customer&lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class="panel-body"&gt;
                             &lt;form:form action="saveCustomer" cssClass="form-horizontal"
                              method="post" modelAttribute="customer"&gt;
                        
                              &lt;!-- need to associate this data with customer id --&gt;
                              &lt;form:hidden path="id" /&gt;
                        
                              &lt;div class="form-group"&gt;
                               &lt;label for="firstname" class="col-md-3 control-label"&gt;First
                                Name&lt;/label&gt;
                               &lt;div class="col-md-9"&gt;
                                &lt;form:input path="firstName" cssClass="form-control" /&gt;
                               &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                               &lt;label for="lastname" class="col-md-3 control-label"&gt;Last
                                Name&lt;/label&gt;
                               &lt;div class="col-md-9"&gt;
                                &lt;form:input path="lastName" cssClass="form-control" /&gt;
                               &lt;/div&gt;
                              &lt;/div&gt;
                        
                              &lt;div class="form-group"&gt;
                               &lt;label for="email" class="col-md-3 control-label"&gt;Email&lt;/label&gt;
                               &lt;div class="col-md-9"&gt;
                                &lt;form:input path="email" cssClass="form-control" /&gt;
                               &lt;/div&gt;
                              &lt;/div&gt;
                        
                              &lt;div class="form-group"&gt;
                               &lt;!-- Button --&gt;
                               &lt;div class="col-md-offset-3 col-md-9"&gt;
                                &lt;form:button cssClass="btn btn-primary"&gt;Submit&lt;/form:button&gt;
                               &lt;/div&gt;
                              &lt;/div&gt;
                        
                             &lt;/form:form&gt;
                            &lt;/div&gt;
                           &lt;/div&gt;
                          &lt;/div&gt;
                         &lt;/div&gt;
                        &lt;/body&gt;
                        &lt;/html&gt;
                        </pre>
        <h2>list-customers.jsp</h2>
        <pre>
                            &lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
                             pageEncoding="ISO-8859-1"%&gt;
                            &lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
                            &lt;!DOCTYPE html&gt;
                            &lt;html&gt;
                            &lt;head&gt;&lt;%@ page isELIgnored="false" %&gt;
                            &lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
                            &lt;title&gt;javaguides.net&lt;/title&gt;
                            &lt;link href="&lt;c:url value="/resources/css/bootstrap.min.css" /&gt;"
                             rel="stylesheet"&gt;
                            &lt;script src="&lt;c:url value="/resources/js/jquery-1.11.1.min.js" /&gt;"&gt;&lt;/script&gt;
                            &lt;script src="&lt;c:url value="/resources/js/bootstrap.min.js" /&gt;"&gt;&lt;/script&gt;
                            &lt;/head&gt;
                            &lt;body&gt;
                             &lt;div class="container"&gt;
                              &lt;div class="col-md-offset-1 col-md-10"&gt;
                               &lt;h2&gt;CRM - Customer Relationship Manager&lt;/h2&gt;
                               &lt;hr /&gt;
                            
                               &lt;input type="button" value="Add Customer"
                                onclick="window.location.href='showForm'; return false;"
                                class="btn btn-primary" /&gt;
                                &lt;br/&gt;&lt;br/&gt;
                               &lt;div class="panel panel-info"&gt;
                                &lt;div class="panel-heading"&gt;
                                 &lt;div class="panel-title"&gt;Customer List&lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class="panel-body"&gt;
                                 &lt;table class="table table-striped table-bordered"&gt;
                                  &lt;tr&gt;
                                   &lt;th&gt;First Name&lt;/th&gt;
                                   &lt;th&gt;Last Name&lt;/th&gt;
                                   &lt;th&gt;Email&lt;/th&gt;
                                   &lt;th&gt;Action&lt;/th&gt;
                                  &lt;/tr&gt;
                            
                                  &lt;!-- loop over and print our customers --&gt;
                                  &lt;c:forEach var="tempCustomer" items="${customers}"&gt;
                            
                                   &lt;!-- construct an "update" link with customer id --&gt;
                                   &lt;c:url var="updateLink" value="/customer/updateForm"&gt;
                                    &lt;c:param name="customerId" value="${tempCustomer.id}" /&gt;
                                   &lt;/c:url&gt;
                            
                                   &lt;!-- construct an "delete" link with customer id --&gt;
                                   &lt;c:url var="deleteLink" value="/customer/delete"&gt;
                                    &lt;c:param name="customerId" value="${tempCustomer.id}" /&gt;
                                   &lt;/c:url&gt;
                            
                                   &lt;tr&gt;
                                    &lt;td&gt;${tempCustomer.firstName}&lt;/td&gt;
                                    &lt;td&gt;${tempCustomer.lastName}&lt;/td&gt;
                                    &lt;td&gt;${tempCustomer.email}&lt;/td&gt;
                            
                                    &lt;td&gt;
                                     &lt;!-- display the update link --&gt; &lt;a href="${updateLink}"&gt;Update&lt;/a&gt;
                                     | &lt;a href="${deleteLink}"
                                     onclick="if (!(confirm('Are you sure you want to delete this customer?'))) return false"&gt;Delete&lt;/a&gt;
                                    &lt;/td&gt;
                            
                                   &lt;/tr&gt;
                            
                                  &lt;/c:forEach&gt;
                            
                                 &lt;/table&gt;
                            
                                &lt;/div&gt;
                               &lt;/div&gt;
                              &lt;/div&gt;
                            
                             &lt;/div&gt;
                            &lt;/body&gt;
                            &lt;/html&gt;
                            </pre>
        <h2>12. Serve Static Resources - CSS and JS</h2>
        <ol>
            <li> Create a <b>resource</b> folder under <b>webapp</b> directory. </li>
            <li> Create <b>css</b> and <b>js</b> folders under the <b>resource</b> directory.</li>
            <li> Download and keep the <b>bootstrap.min.css</b> file under css folder</li>
            <li> download and keep <b>bootstrap.min.js</b> and <b>jquery-1.11.1.min.js </b>files under the resource
                directory. Note
                that bootstrap min js is dependent on jquery min js.</li>
        </ol>
        <h2>13. Build and Run an application</h2>
        <p>As we are using the maven build tool so first, we will need to build this application using the following
            maven command:</p>
        <pre>clean install</pre>
        <p>Once the build success, then we will run this application on Tomcat server 8.5 in IDE or we can also deploy
            the war file on the external Tomcat webapps folder and run the application.</p>
        <h2>Demo</h2>
        <p>Once an application is up and running in Tomcat server then hit this link into the browser: <a href="">
                http://localhost:8080/springmvc5-hibernate5-jsp-mysql-example/customer/list</a></p>
        <p><b>Add Customer page :</b></p>
        <img src="/assets/spring-mvc-image/add-customer-form.PNG" alt="" class="image-fluid">
        <p><b>List of customers:</b></p>
        <img src="/assets/spring-mvc-image/list-of-customers.PNG" alt="" class="image-fluid">
        <h2>Conclusion</h2>
        <p>In this spring hibernate integration tutorial, we have seen how to create a Spring MVC web application and
            integrate it with Hibernate using Java-based configuration.</p>




    </div>
</body>

</html>