<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <meta name="author" content="Fullstack Institute" />
    <meta name="author" content="Yakambram Kommu" />

    <style>
        .container-fluid {
            width: 70%;
            background-color: rgb(106, 51, 194);
            /* Updated color */
            padding: 0;
            margin: 0;
        }

        .topImage {
            display: flex;
            justify-content: center;
            /* Centers the image horizontally */
            align-items: center;
            /* Centers the image vertically */
        }

        .topImage img {
            max-width: 80%;
            /* Ensures the image is responsive */
            height: auto;
            /* Maintains the aspect ratio */
            border-radius: 8px;
            /* Optional: adds rounded corners to the image */
        }

        .heading {
            color: rgb(204, 145, 9);
        }

        span {
            background-color: rgb(224, 237, 235);
            color: #d73a49;
        }

        pre {
            background-color: #282c34;
            color: #edf3f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 18px;
        }

        code {
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        p {
            display: block;
            margin-block-start: 1em;
            margin-block-end: 1em;
            margin-inline-start: 0px;
            margin-inline-end: 0px;
            unicode-bidi: isolate;
        }

        .btn {
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: scale(1.1);
            /* Zoom in */
        }

        .btn:active {
            transform: scale(0.9);
            /* Zoom out on click */
        }
    </style>

</head>
        <body>
            <div class="container">
                <div class="topImage mt-2 mb-4">
                    <img src="../../assets/springboot images/hibernate,MySql,Spring Data Jpa.jpg" alt="logo" />
                </div>
            </div>
        
            <div class="container">
                <div class="heading">
                    <h3>Spring Boot, MySQL, JPA, Hibernate Restful CRUD API Tutorial</h3>
                    <h6>Author: Shiva Krishna G</h6>
                </div><br>
                <p>In this tutorial, we’ll build a Restful CRUD API for a simple <b>user management application</b>. We’ll first build the APIs to create, retrieve, update and delete a user, and then test them using Postman. This Spring Boot project is upgraded to Spring Boot 3 and Java 17.<br><br>
                    Spring Boot has taken the Spring framework to the next level. It has drastically reduced the configuration and setup time required for Spring projects. You can set up a project with almost zero configuration and start building the things that actually matter to your application.<br><br>
                    
                    If you are new to<a href="http://127.0.0.1:5500/spring_boot_tutorial.html"> Spring Boot</a> and want to get started with it quickly, then this blog post is for you.</p><br>
                    <h3>Video Tutorial</h3>
                    <p>This tutorial is explained in detail in the video tutorial below:</p>



                    <h3>What We’ll Build</h3>
                    <p>We are building a simple User Management Application which has the following CRUD Rest APIs:</p>
                    <ul>
                        <li><b>GET /api/users</b> - Retrieves all users</li>
                        <li><b>GET /api/users/{id}</b> - Retrieves a specific user by id</li>
                        <li><b>POST /api/users</b> - Creates a new user</li>
                        <li><b>PUT /api/users/{id}</b> - Updates an existing user</li>   
                        <li><b>DELETE /api/users/{id}</b> - Deletes a user by id</li>
                    </ul>
                    <div class="topImage mt-2 mb-4">
                        <img src="../../assets/springboot images/api-curd-list.PNG" alt="logo" />
                    </div><br>
                    <h3>High-Level Architecture of Spring Boot Project</h3>
                    <div class="topImage mt-2 mb-4">
                        <img src="../../assets/springboot images/springboot-crud-rest-api.png" alt="logo" />
                    </div><br>
                    <h3>1. Creating a Spring Boot Application</h3>
                    <p>There are many ways to create a Spring Boot application. You can refer to the following articles to create a Spring Boot application:</p>

                    <ul>
                        <li><a href=""> Create Spring Boot Project With Spring Initializer</a></li>
                        <li><a href=""> Spring Boot Project in Spring Tool Suite [STS]</a></li>
                    </ul>
                    <h3>2. Maven Dependencies</h3>
                    <p>Add the following dependencies in your pom.xml file:</p>
                    <code><pre>
 &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt; </pre></code>

                        <h5>Explanation:</h5>
                        <ul>
                            <li> spring-boot-starter-data-jpa: Provides support for JPA-based data access and ORM.</li>
                            <li>spring-boot-starter-web: Provides support for building web, including RESTful, applications using Spring MVC.</li>
                            <li>mysql-connector-j: MySQL JDBC driver for connecting to MySQL databases.</li>
                        </ul>
                        <h3>3. Configuring MySQL Database</h3>
                        <p>Configure the database URL, username, and password in the src/main/resources/application.properties file to establish a connection with the database on startup:</p>
           
           <code><pre>
spring.datasource.url = jdbc:mysql://localhost:3306/usersDB?useSSL=false
spring.datasource.username = root
spring.datasource.password = root

# Hibernate Properties
# The SQL dialect makes Hibernate generate better SQL for the chosen database
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect

# Hibernate ddl auto (create, create-drop, validate, update)
spring.jpa.hibernate.ddl-auto = update</pre></code>
           <h5>Explanation:</h5>
           <ul>
            <li>spring.datasource.url: JDBC URL for MySQL database.</li>
            <li>spring.datasource.username: Username for MySQL database.</li>
            <li>spring.datasource.password: Password for MySQL database.</li>      
            <li>spring.jpa.properties.hibernate.dialect: Hibernate dialect for MySQL.</li>
            <li>spring.jpa.hibernate.ddl-auto: update - Hibernate will automatically create the tables.</li>
           </ul>
           <p>Don’t forget to change the spring.datasource.username and spring.datasource.password as per your MySQL installation. Also, create a database named usersDB in MySQL before proceeding to the next section.<br><br>

            You don’t need to create any tables. The tables will automatically be created by Hibernate from the User entity that we will define in the next step. This is made possible by the property spring.jpa.hibernate.ddl-auto = update.<br>
            
            </p>
            <h3>4. Create User JPA Entity</h3>
            <p>Create a User model or domain class with the following fields: id, firstName, lastName, and email.</p>
           <code><pre>
package net.javaguides.springboot.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "users")
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private long id;

    @Column(name = "first_name")
    private String firstName;

    @Column(name = "last_name")
    private String lastName;

    @Column(name = "email")
    private String email;

    public User() {
    }

    public User(String firstName, String lastName, String email) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.email = email;
    }

    public long getId() {
        return id;
    }

    public void setId(long id) {
        this.id = id;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }
}</pre></code>
           
    <h5>Explanation:</h5>
    <ul>
        <li><b>@Entity:</b> Marks the class as a persistent Java class.</li>
       <li>@Table:</b> Provides the details of the table that this entity will be mapped to.</li>
       <li>@Id:</b> Defines the primary key.</li>
       <li>@GeneratedValue:</b> Defines the primary key generation strategy. In this case, it's an Auto Increment field.</li>
       <li>@Column:</b> Defines the properties of the column that will be mapped to the annotated field. You can define several properties like name, length, nullable, updateable, etc.</li>
    </ul>
    <h3>5. Define UserRepository</h3>
    <p>Create a UserRepository to access User data from the database.</p>
<code><pre>
package net.javaguides.springboot.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import net.javaguides.springboot.entity.User;

public interface UserRepository extends JpaRepository<User, Long> {
}</pre></code><br>
                <h5>Explanation:</h5>
                <ul>
                    <li><b>JpaRepository:</b> This repository provides CRUD operations on the entity. It contains methods for standard CRUD operations and allows you to create custom query methods.</li>
                </ul>
                <h3>6. Creating Custom Business Exception</h3>
                <p>Define custom exceptions to handle specific application errors. In this case, a ResourceNotFoundException is thrown whenever a User with a given ID is not found in the database.</p>
           <code><pre>
package net.javaguides.springboot.exception;

import org.springframework.http.HttpStatus;
import org.springframework.web.bind.annotation.ResponseStatus;

@ResponseStatus(value = HttpStatus.NOT_FOUND)
public class ResourceNotFoundException extends RuntimeException {

    private static final long serialVersionUID = 1L;

    public ResourceNotFoundException(String message) {
        super(message);
    }
} </pre></code><br>
        <h5>Explanation:</h5>
        <ul>
            <li><b>@ResponseStatus:</b> Marks a method or exception class with the status code and reason that should be returned.</li>
            <li><b>RuntimeException:</b> The superclass of exceptions that can be thrown during the normal operation of the Java Virtual Machine.</li>
        </ul>
                <h3>7. Creating UserController - Building CRUD Rest APIs</h3>
                <p>Create the REST APIs for creating, retrieving, updating, and deleting a User.</p>
<code><pre>
package net.javaguides.springboot.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import net.javaguides.springboot.entity.User;
import net.javaguides.springboot.exception.ResourceNotFoundException;
import net.javaguides.springboot.repository.UserRepository;

@RestController
@RequestMapping("/api/users")
public class UserController {

    @Autowired
    private UserRepository userRepository;

    // Get all users
    @GetMapping
    public List<User> getAllUsers() {
        return this.userRepository.findAll();
    }

    // Get user by id
    @GetMapping("/{id}")
    public User getUserById(@PathVariable long id) {
        return this.userRepository.findById(id)
                .orElseThrow(() -> new ResourceNotFoundException("User not found with id :" + id));
    }

    // Create user
    @PostMapping
    public User createUser(@RequestBody User user) {
        return this.userRepository.save(user);
    }

    // Update user
    @PutMapping("/{id}")
    public User updateUser(@RequestBody User user, @PathVariable long id) {
        User existingUser = this.userRepository.findById(id)
                .orElseThrow(() -> new ResourceNotFoundException("User not found with id :" + id));
        existingUser.setFirstName(user.getFirstName());
        existingUser.setLastName(user.getLastName());
        existingUser.setEmail(user.getEmail());
        return this.userRepository.save(existingUser);
    }

    // Delete user by id
    @DeleteMapping("/{id}")
    public ResponseEntity<User> deleteUser(@PathVariable long id) {
        User existingUser = this.userRepository.findById(id)
                .orElseThrow(() -> new ResourceNotFoundException("User not found with id :" + id));
        this.userRepository.delete(existingUser);
        return ResponseEntity.ok().build();
    }
}</pre></code><br>
            <h5>Explanation:</h5>
            <ul>
                <li><b>@RestController:</b> Indicates that the class is a REST controller.</li>
                <li><b>@RequestMapping:</b> Maps HTTP requests to handler methods of MVC and REST controllers.</li>
                <li><b>@Autowired:</b> Used for automatic dependency injection.</li>
                <li><b>@GetMapping:</b> Handles HTTP GET requests.</li>
                <li><b>@PostMapping:</b> Handles HTTP POST requests.</li>
                <li><b>@PutMapping:</b> Handles HTTP PUT requests.</li>
                <li><b>@DeleteMapping:</b> Handles HTTP DELETE requests.</li>
                <li><b>@PathVariable:</b> Used to extract values from the URI.</li>
                <li><b>@RequestBody:</b> Used to bind the HTTP request/response body with a domain object.</li>
            </ul>

            <h3>8. Running the Application</h3>
            <P>We have successfully developed all the CRUD Rest APIs for the User model. Now it's time to deploy our application in a servlet container (embedded Tomcat).<br><br>

                Two ways we can start the standalone Spring Boot application:</P>
                <ol>
                    <li>From the root directory of the application, type the following command to run it:</li><br>
                
<code><pre>$ mvn spring-boot:run</pre></code>

                    <li>From your IDE, run the SpringBootCrudRestApplication.main() method as a standalone Java class that will start the embedded Tomcat server on port 8080. Then point your browser to http://localhost:8080/.</li>
                </ol>
                <h3>9. Demo</h3>
                <p>The demo of this tutorial is covered in the YouTube video tutorial below:</p>



                <h3>10. Conclusion</h3>
                <p>Congratulations! We successfully built a Restful CRUD API using Spring Boot, MySQL, JPA, and Hibernate.<br><br>

                    You can find the source code for this tutorial on my GitHub repository. Feel free to clone the repository and build upon it.<br><br>
                    
                    Thank you for reading. Please ask any questions in the comment section below.</p><br>
                    <h3>Related Spring and Spring Boot Tutorials/Guides:</h3>


                    <p>
                        <button type="button" class="btn btn-outline-primary">Spring Boot Tutorials [500+]s</button>
                        <button type="button" class="btn btn-outline-secondary">Spring Boot Testing Tutorial</button>
                        <button type="button" class="btn btn-outline-success">Spring Boot Microservice Tutorial</button>
                        <button type="button" class="btn btn-outline-danger">Spring Boot Kafka Microservices </button>
                        <button type="button" class="btn btn-outline-warning">Spring Boot + Apache Kafka Tutorial</button>
                        <button type="button" class="btn btn-outline-info">Spring Core Tutorial</button>
                        <button type="button" class="btn btn-outline-primary">Spring MVC Tutorial </button>
                        <button type="button" class="btn btn-outline-secondary">Spring Data JPA Tutorial</button>
                        <button type="button" class="btn btn-outline-success">Spring Framework for Beginners</button>
                        <button type="button" class="btn btn-outline-danger">Spring AOP Tutorial</button>
                        <button type="button" class="btn btn-outline-warning">Spring Security Tutorial</button>
                        <button type="button" class="btn btn-outline-info">Spring Exceptions Tutorial</button>
                        <button type="button" class="btn btn-outline-primary">Spring Boot Interview Questions</button>
                        <button type="button" class="btn btn-outline-dark">Spring Boot Microservices Interview Questions</button>
                        <button type="button" class="btn btn-outline-primary">Apache Kafka Tutorials </button>
                        <button type="button" class="btn btn-outline-secondary">Docker Tutorials and Guides</button>
                        <button type="button" class="btn btn-outline-success">Spring Boot RabbitMQ Tutorials</button>
                        <button type="button" class="btn btn-outline-danger">Angular CRUD Example with Spring Boot </button>
                        <button type="button" class="btn btn-outline-warning">Spring Boot + Angular 12 CRUD Full Stack</button>
                        <button type="button" class="btn btn-outline-info">Spring Boot + Angular 8 CRUD Full Stack</button>
                        <button type="button" class="btn btn-outline-danger">Spring Boot + Angular 10 CRUD Full Stack </button>
                        <button type="button" class="btn btn-outline-primary">React JS ( React Hooks) + Spring Boot</button>
                        <button type="button" class="btn btn-outline-secondary">Spring Boot + React JS CRUD Full Stack</button>
                        <button type="button" class="btn btn-outline-success">Spring Boot Thymeleaf CRUD Full Stack </button>
                        <button type="button" class="btn btn-outline-danger">Spring Boot User Registration and Login</button>
                        <button type="button" class="btn btn-outline-warning">Node Js + Express + MongoDB CRUDVue</button>
                        <button type="button" class="btn btn-outline-info">JS + Spring Boot REST API Tutorial</button>
                    </p>







                    </div>
        </body>
</html>